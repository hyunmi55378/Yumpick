
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>YumPick Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, setDoc, doc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAJCZ-LH-KrMWMBck2rhNMkUAiZWy_m6wA",
      authDomain: "yumpick-6c2b6.firebaseapp.com",
      projectId: "yumpick-6c2b6",
      storageBucket: "yumpick-6c2b6.firebasestorage.app",
      messagingSenderId: "733622122733",
      appId: "1:733622122733:web:c07e67b3fa8d0c17aaf4e4"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function saveDeal() {
      const brand = document.getElementById("brand").value;
      const deal = document.getElementById("deal").value;

      if (!brand || !deal) {
        alert("브랜드와 핫딜을 모두 입력해주세요.");
        return;
      }

      await setDoc(doc(db, "hotdeals", brand), { deal });
      alert("핫딜 저장 완료!");
      document.getElementById("deal").value = "";
      loadDeals();
    }

    async function loadDeals() {
      const list = document.getElementById("dealList");
      list.innerHTML = "";
      const snapshot = await getDocs(collection(db, "hotdeals"));
      snapshot.forEach(docSnap => {
        const name = docSnap.id;
        const { deal } = docSnap.data();
        const item = document.createElement("li");
        item.textContent = `${name}: ${deal}`;
        list.appendChild(item);
      });
    }

    window.onload = loadDeals;
    window.saveDeal = saveDeal;
  </script>
  <style>
    body {
      font-family: sans-serif;
      padding: 2em;
      background-color: #fffefb;
    }
    h1 {
      color: #D62300;
    }
    label, select, input, button {
      font-size: 1em;
      margin-top: 1em;
      display: block;
    }
    input, select {
      padding: 0.5em;
      width: 100%;
      max-width: 400px;
    }
    button {
      margin-top: 1.5em;
      padding: 0.7em 1.5em;
      background-color: #D62300;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    ul {
      margin-top: 2em;
      padding-left: 1em;
    }
  </style>
</head>
<body>
  <h1>YumPick 핫딜 입력(Admin)</h1>

  <label for="brand">브랜드 선택</label>
  <select id="brand">
    <option value="">-- 브랜드 선택 --</option>
    <option>McDonald's</option>
    <option>Burger King</option>
    <option>Wendy's</option>
    <option>Domino's</option>
    <option>Papa John's</option>
    <option>Starbucks</option>
    <option>Dunkin'</option>
    <option>Taco Bell</option>
    <option>Chick-fil-A</option>
    <option>KFC</option>
    <option>Subway</option>
    <option>Chipotle</option>
    <option>Panda Express</option>
    <option>Sonic</option>
    <option>Arby's</option>
    <option>Little Caesars</option>
    <option>Pizza Hut</option>
    <option>Five Guys</option>
    <option>Panera Bread</option>
    <option>IHOP</option>
    <option>Applebee's</option>
    <option>Buffalo Wild Wings</option>
    <option>Qdoba</option>
    <option>Zaxby’s</option>
    <option>Whataburger</option>
    <option>Culver's</option>
    <option>El Pollo Loco</option>
    <option>Raising Cane’s</option>
    <option>Blaze Pizza</option>
    <option>MOD Pizza</option>
  </select>

  <label for="deal">핫딜 입력</label>
  <input type="text" id="deal" placeholder="예: 2 Big Macs for $5!" />

  <button onclick="saveDeal()">핫딜 저장</button>

  <h2>입력된 핫딜 목록</h2>
  <ul id="dealList"></ul>
</body>
</html>
