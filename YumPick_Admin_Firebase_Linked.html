
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>YumPick Admin - Hot Deals</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; background: #fff; }
    h1 { color: #c0392b; }
    label, select, input { display: block; margin-top: 1rem; font-size: 1rem; }
    input[type="text"] { width: 300px; padding: 0.5rem; }
    button { margin-top: 1rem; padding: 0.5rem 1rem; background: #c0392b; color: white; border: none; cursor: pointer; }
    ul { list-style: none; padding-left: 0; }
    li { margin: 0.5rem 0; }
  </style>
</head>
<body>
  <h1>YumPick 핫딜 입력(Admin)</h1>

  <label for="brand">브랜드 선택</label>
  <select id="brand">
    <option value="">-- 브랜드 선택 --</option>
    <option value="mcdonalds">McDonald's</option>
    <option value="burgerking">Burger King</option>
    <option value="wendys">Wendy’s</option>
    <option value="dominos">Domino’s</option>
    <option value="papajohns">Papa John’s</option>
    <option value="starbucks">Starbucks</option>
    <option value="dunkin">Dunkin’</option>
    <option value="tacobell">Taco Bell</option>
    <option value="chickfila">Chick-fil-A</option>
    <option value="kfc">KFC</option>
    <option value="subway">Subway</option>
    <option value="chipotle">Chipotle</option>
    <option value="pandaexpress">Panda Express</option>
    <option value="sonic">Sonic</option>
    <option value="arbys">Arby’s</option>
    <option value="littlecaesars">Little Caesars</option>
    <option value="pizzahut">Pizza Hut</option>
    <option value="fiveguys">Five Guys</option>
    <option value="panerabread">Panera Bread</option>
    <option value="ihop">IHOP</option>
    <option value="applebees">Applebee’s</option>
    <option value="buffalowildwings">Buffalo Wild Wings</option>
    <option value="qdoba">Qdoba</option>
    <option value="zaxbys">Zaxby’s</option>
    <option value="whataburger">Whataburger</option>
    <option value="culvers">Culver’s</option>
    <option value="elpolloloco">El Pollo Loco</option>
    <option value="raisingcanes">Raising Cane’s</option>
    <option value="blazepizza">Blaze Pizza</option>
    <option value="modpizza">MOD Pizza</option>
  </select>

  <label for="deal">핫딜 입력</label>
  <input type="text" id="deal" placeholder="예: 2 Big Macs for $5!" />
  <button onclick="saveDeal()">핫딜 저장</button>

  <h2>입력된 핫딜 목록</h2>
  <ul id="dealList"></ul>

  <script type="module">
    import {{ initializeApp }} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import {{ getFirestore, doc, setDoc, getDoc }} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {{
      apiKey: "AIzaSyAJCZ-LH-KrMWMBck2rhNMkUAiZWy_m6wA",
      authDomain: "yumpick-6c2b6.firebaseapp.com",
      projectId: "yumpick-6c2b6",
      storageBucket: "yumpick-6c2b6.appspot.com",
      messagingSenderId: "733622122733",
      appId: "1:733622122733:web:c07e67b3fa8d0c17aaf4e4"
    }};

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function saveDeal() {{
      const brand = document.getElementById("brand").value;
      const deal = document.getElementById("deal").value;
      if (!brand || !deal) {{
        alert("브랜드와 핫딜을 모두 입력하세요.");
        return;
      }}
      await setDoc(doc(db, "hotdeals", brand), {{ deal }});
      alert("저장되었습니다.");
      loadDeals();
    }}

    async function loadDeals() {{
      const dealList = document.getElementById("dealList");
      dealList.innerHTML = "";
      const brands = {[
        "mcdonalds", "burgerking", "wendys", "dominos", "papajohns", "starbucks", "dunkin", "tacobell",
        "chickfila", "kfc", "subway", "chipotle", "pandaexpress", "sonic", "arbys", "littlecaesars",
        "pizzahut", "fiveguys", "panerabread", "ihop", "applebees", "buffalowildwings", "qdoba", "zaxbys",
        "whataburger", "culvers", "elpolloloco", "raisingcanes", "blazepizza", "modpizza"
      ]};
      for (const brand of brands) {{
        const docSnap = await getDoc(doc(db, "hotdeals", brand));
        if (docSnap.exists()) {{
          const li = document.createElement("li");
          li.textContent = `${{brand}}: ${{docSnap.data().deal}}`;
          dealList.appendChild(li);
        }}
      }}
    }}

    loadDeals();
  </script>
</body>
</html>
